<h3>Feedback Response Statistics</h3>
<div class="card card-plain">
  <div class="card-body">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="startDate">Start Date</label>
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd" id="startDate" ngbDatepicker #start="ngbDatepicker"
                 [(ngModel)]="startDate"/>
          <div class="input-group-append">
            <button class="btn btn-light" (click)="start.toggle()" type="button"><i class="fas fa-calendar-alt"
                                                                                    aria-hidden="true"></i></button>
          </div>
        </div>
      </div>
      <div class="form-group col-md-6">
          <label for="endDate">End Date</label>
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd" id="endDate" ngbDatepicker #end="ngbDatepicker"
                 [(ngModel)]="endDate"/>
          <div class="input-group-append">
            <button class="btn btn-light" (click)="end.toggle()" type="button"><i class="fas fa-calendar-alt"
                                                                                  aria-hidden="true"></i></button>
          </div>
        </div>
      </div>
      <div class="form-group col-12">
        <div class="input-group justify-content-end">
          <button class="btn btn-primary" (click)="retrieveStatistics()">Retrieve</button>
        </div>
      </div>
      <small class="col-12 text-right" *ngIf="chartOptions.series[0].data.length !== 0">Graph is updated every minute</small>
    </div>
  </div>
</div>

<div *tmIsLoading="isLoadingStatistics" class="mt-3">
  <apx-chart *ngIf="chartOptions.series[0].data.length !== 0; else emptyMessage"
             [series]="chartOptions.series"
             [chart]="chartOptions.chart"
             [xaxis]="chartOptions.xaxis"
             [yaxis]="chartOptions.yaxis"
             [tooltip]="chartOptions.tooltip"
             [title]="chartOptions.title">
  </apx-chart>

  <ng-template #emptyMessage>
    <div class="text-center">
      <p>No data in selected range. Try another range of dates</p>
    </div>
  </ng-template>
</div>
